---
title: Gitæäº¤çš„å›æ»š
date: 2019-09-18 17:46:03
tags: [Git]
categories: [ç‰ˆæœ¬æ§åˆ¶]
---

<!-- ä»Šå¤©å»é¢è¯•çš„æ—¶å€™è¢«é—®åˆ°äº†å¦‚ä½• æ’¤é”€/å›æ»š æäº¤çš„é—®é¢˜ï¼Œä¸€æ—¶é—´æ²¡æƒ³èµ·æ¥ğŸ˜¢ï¼Œå†™ç¯‡åšå®¢å·©å›ºä¸€ä¸‹ğŸ˜Šã€‚ -->

# revert
> `git revert <commit>`

ç”Ÿæˆä¸€ä¸ªæ’¤æ¶ˆäº†`commit` å¼•å…¥çš„ä¿®æ”¹çš„æ–°æäº¤ï¼Œç„¶ååº”ç”¨åˆ°å½“å‰åˆ†æ”¯ã€‚

`commit` å¯ä»¥é€šè¿‡ä½¿ç”¨`git log` æ¥æŸ¥çœ‹

`revert` æ˜¯æäº¤ä¸€ä¸ª æ’¤é”€äº†æ›´æ”¹çš„ **æ–°æäº¤**ï¼Œè€Œä¸æ˜¯ä»é¡¹ç›®å†å²ä¸­ç§»é™¤è¿™ä¸ªæäº¤ã€‚è¿™ä¼šé¿å…Gitä¸¢å¤±é¡¹ç›®å†å²ï¼Œæ˜¯ä¸€ç§æ¯”è¾ƒå®‰å…¨çš„æ–¹å¼ã€‚

# reset
> `git reset`asd

é‡è®¾æš‚å­˜åŒºï¼Œä½†ä¸æ”¹å˜å·¥ä½œåŒºï¼ŒåŒ¹é…æœ€è¿‘çš„ä¸€æ¬¡æäº¤ã€‚

> `git reset --hard`

é‡è®¾**æš‚å­˜åŒºå’Œå·¥ä½œåŒº**ï¼ŒåŒ¹é…æœ€è¿‘çš„ä¸€æ¬¡æäº¤ã€‚  
`--hard` ä¼šä½¿gitæ›´æ”¹å·¥ä½œåŒºä¸­çš„æ–‡ä»¶ã€‚ç¡®å®šè¦æ‰”æ‰æœ¬åœ°çš„å¼€å‘è¿›åº¦å†ä½¿ç”¨ã€‚

> `git reset <commit>`

å°†æš‚å­˜åŒºé‡è®¾åˆ°è¿™ä¸ªæäº¤ï¼Œä½†ä¸æ”¹å˜å·¥ä½œåŒºã€‚  
æ‰€æœ‰`commit` ä¹‹åçš„æ›´æ”¹ä¼šä¿ç•™åœ¨å·¥ä½œåŒºä¸­ï¼Œé€‚ç”¨äºé‡æ–°æäº¤æ›´å¹²å‡€çš„é¡¹ç›®å†å²ã€‚

> `git reset --hard <commit>`

å°†æš‚å­˜åŒºå’Œå·¥ä½œåŒºéƒ½é‡è®¾åˆ°è¿™ä¸ªæäº¤ã€‚

> `git reset <file>`

ä»æš‚å­˜åŒºç§»é™¤æŸä¸ªæ–‡ä»¶ï¼Œä½†ä¸æ”¹å˜å·¥ä½œåŒºã€‚

<!-- more -->

# reset å’Œ revert
>`git revert` å¯ä»¥é’ˆå¯¹å†å²ä¸­ä»»ä½•ä¸€ä¸ªæäº¤ï¼Œè€Œ `git reset` åªèƒ½ä»å½“å‰æäº¤å‘å‰å›æº¯ã€‚æ¯”å¦‚ï¼Œä½ æƒ³ç”¨ git reset é‡è®¾ä¸€ä¸ªæ—§çš„æäº¤ï¼Œä½ ä¸å¾—ä¸ç§»é™¤é‚£ä¸ªæäº¤åçš„æ‰€æœ‰æäº¤ï¼Œå†ç§»é™¤é‚£ä¸ªæäº¤ï¼Œç„¶åé‡æ–°æäº¤åé¢çš„æ‰€æœ‰æäº¤ã€‚

`revert`è¢«è®¾è®¡ä¸ºæ’¤é”€**å…¬å¼€**çš„æäº¤çš„å®‰å…¨æ–¹å¼ï¼Œ`reset`è¢«è®¾è®¡ä¸ºé‡è®¾**æœ¬åœ°**æ›´æ”¹ã€‚  
å› ä¸ºä¸¤ä¸ªå‘½ä»¤çš„ç›®çš„ä¸åŒï¼Œå®ƒä»¬çš„å®ç°ä¹Ÿä¸ä¸€æ ·ï¼š`reset`å®Œå…¨åœ°ç§»é™¤äº†ä¸€å †æ›´æ”¹ï¼Œè€Œ`revert`ä¿ç•™äº†åŸæ¥çš„æ›´æ”¹ï¼Œç”¨ä¸€ä¸ªæ–°çš„æäº¤æ¥å®ç°æ’¤é”€ã€‚

# æŸ¥çœ‹ä¹‹å‰çš„å†…å®¹
## æ£€å‡ºæäº¤
> `git checkout <commit>`

ä½¿ç”¨`checkout commit` å¯ä»¥ä¾¿æ·åœ°å°†`commit` åŠ è½½åˆ°ç”µè„‘ä¸Šã€‚  
è€Œä¸”**æ£€å‡ºæäº¤**æ˜¯ä¸€ä¸ª**åªè¯»**æ“ä½œï¼Œåœ¨æŸ¥çœ‹å…¶ä»–`commit`çš„æ—¶å€™ä¸ä¼šå¯¹ä½ å½“å‰çš„çŠ¶æ€(æ¯”å¦‚masteråˆ†æ”¯)äº§ç”Ÿå½±å“ã€‚  
åœ¨æ£€å‡ºæäº¤çš„æ—¶å€™ï¼Œ`HEAD`ç›´æ¥æŒ‡å‘æ£€å‡ºçš„æäº¤ã€‚è€Œä¸æ˜¯æŒ‡å‘åˆ†æ”¯ã€‚(åˆ†ç¦»HEAD)

## æ£€å‡ºæ–‡ä»¶
> `git checkout <commit> <file>`

ä¼šå°†å·¥ä½œåŒºä¸­çš„`file`æ–‡ä»¶å˜æˆ`commit`ä¸­çš„é‚£ä¸ªæ–‡ä»¶ï¼Œå¹¶å°†å®ƒåŠ å…¥æš‚å­˜åŒºã€‚

**è¿™ä¼šå¯¹ä½ å½“å‰çš„å·¥ä½œåŒºä¸­çš„æ–‡ä»¶äº§ç”Ÿå½±å“ã€‚**

# å‚è€ƒèµ„æ–™
> https://www.atlassian.com/git/tutorials/undoing-changes